<?php

class Inno {

    protected $info=array(
        "titolo"=>"Inno",
        "testo"=>false
    );

    protected $salterio=array(
        array(
            "ves1"=>"ves1_0",
            "comp1"=>"comp1_0",
            "lodi"=>"lodi_0",
            "terza"=>"terza_0",
            "sesta"=>"sesta_0",
            "nona"=>"nona_0",
            "ves2"=>"ves2_0",
            "comp"=>"comp_0"
        ),
        array(
            "lodi"=>"lodi_1",
            "terza"=>"terza_1",
            "sesta"=>"sesta_1",
            "nona"=>"nona_1",
            "ves"=>"ves_1",
            "comp"=>"comp_1"
        ),
        array(
            "lodi"=>"lodi_2",
            "terza"=>"terza_0",
            "sesta"=>"sesta_0",
            "nona"=>"nona_0",
            "ves"=>"ves_2",
            "comp"=>"comp1_0"
        ),
        array(
            "lodi"=>"lodi_3",
            "terza"=>"terza_3",
            "sesta"=>"sesta_3",
            "nona"=>"nona_3",
            "ves"=>"ves_3",
            "comp"=>"comp_0"
        ),
        array(
            "lodi"=>"lodi_4",
            "terza"=>"terza_1",
            "sesta"=>"sesta_1",
            "nona"=>"nona_1",
            "ves"=>"ves_4",
            "comp"=>"comp_1"
        ),
        array(
            "lodi"=>"lodi_5",
            "terza"=>"terza_0",
            "sesta"=>"sesta_0",
            "nona"=>"nona_0",
            "ves"=>"ves_5",
            "comp"=>"comp1_0"
        ),
        array(
            "lodi"=>"lodi_6",
            "terza"=>"terza_3",
            "sesta"=>"sesta_3",
            "nona"=>"nona_3"
        )

    );

    protected $inni=array(
        "comp1_0"=>array(
            array(
                array('','','Al termine del giorno,'),
                array('','','o sommo Creatore,'),
                array('','','veglia sul nostro riposo'),
                array('','','con amore di Padre.')
            ),
            array(
                array('','','Nel sonno delle membra,'),
                array('','','resti fedele il cuore,'),
                array('','',"e al ritorno dell'alba"),
                array('','','intoni la tua lode.')
            ),
            array(
                array('','',"Dona salute al corpo"),
                array('','',"e fervore allo spirito,"),
                array('','',"la tua luce rischiari"),
                array('','',"le ombre della notte.")
            ),
            array(
                array('','',"Sia onore al Padre e al Figlio"),
                array('','',"e allo Spirito Santo,"),
                array('','',"al Dio trino ed unico"),
                array('','',"nei secoli sia gloria."),
                array('','2','Amen.')
            )
        ),
        "comp_0"=>array(
            array(
                array('','','Gesù, luce da luce,'),
                array('','','sole senza tramonto,'),
                array('','','tu rischiari le tenebre'),
                array('','','nella notte del mondo.')
            ),
            array(
                array('','','In te, santo Signore,'),
                array('','','noi cerchiamo il riposo'),
                array('','',"dall'umana fatica,"),
                array('','','al termine del giorno.')
            ),
            array(
                array('','','Se i nostri occhi si chiudono,'),
                array('','','veglia in te il nostro cuore;'),
                array('','',"la tua mano protegga"),
                array('','','coloro che in te sperano.')
            ),
            array(
                array('','','Difendi, o Salvatore,'),
                array('','','dalle insidie del male'),
                array('','',"i figli che hai redenti"),
                array('','','col tuo sangue prezioso.')
            ),
            array(
                array('','',"a te sia gloria, o Cristo"),
                array('','',"nato da Maria Vergine,"),
                array('','',"al Padre ed allo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "comp_1"=>array(
            array(
                array('','',"Del giorno giunti al termine,"),
                array('','',"o Creator degli esseri,"),
                array('','',"la nosra attesa illumina,"),
                array('','',"la luce eterna svelaci.")
            ),
            array(
                array('','',"Il nostro sonno vigili"),
                array('','',"la tua pietà dolcissima;"),
                array('','',"dal male che ci affascina"),
                array('','',"il corpo stanco libera.")
            ),
            array(
                array('','',"Onnipotente, ascoltaci:"),
                array('','',"per noi Cristo ti supplica,"),
                array('','',"che regna in tutti i secoli"),
                array('','',"con te e il Santo Spirito."),
                array('','2','Amen.')
            )
        ),
        "ves1_0"=>array(
            array(
                array('','','O Trinità beata,'),
                array('','','luce, sapienza, amore,'),
                array('','','vesti del tuo splendore,'),
                array('','','il giorno che declina.')
            ),
            array(
                array('','','Te lodiamo al mattino,'),
                array('','','te nel vespro imploriamo,'),
                array('','','te canteremo unanimi,'),
                array('','','nel giorno che non muore.'),
                array('','2','Amen.')
            )
        ),
        "lodi_0"=>array(
            array(
                array('','',"O giorno primo ed ultimo,"),
                array('','',"giorno radioso e splendido,"),
                array('','',"del trionfo di Cristo!")
            ),
            array(
                array('','',"Il Signore risorto,"),
                array('','',"promulga per i secoli"),
                array('','',"l'editto della pace.")
            ),
            array(
                array('','',"Pace fra cielo e terra,"),
                array('','',"pace fra tutti i popoli,"),
                array('','',"pace nei nostri cuori.")
            ),
            array(
                array('','',"l'alleluia pasquale"),
                array('','',"risuoni nella Chiesa"),
                array('','',"pellegrina nel mondo;")
            ),
            array(
                array('','',"e si unisca alla lode,"),
                array('','',"armoniosa e perenne,"),
                array('','',"dell'assemblea dei santi.")
            ),
            array(
                array('','',"A te la gloria, o Cristo,"),
                array('','',"la potenza e l'onore,"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            ),
        ),
        "terza_0"=>array(
            array(
                array('','',"O Spirito Paraclito,"),
                array('','',"uno col Padre e il Figlio,"),
                array('','',"discendi a noi benigno"),
                array('','',"nell'intimo dei cuori.")
            ),
            array(
                array('','',"Voce e mente si accordino,"),
                array('','',"nel ritmo della lode,"),
                array('','',"il tuo fuoco ci unisca"),
                array('','',"in un'anima sola.")
            ),
            array(
                array('','',"O luce di sapienza,"),
                array('','',"rivelaci il mistero"),
                array('','',"del Dio trino e unico,"),
                array('','',"fonte di eterno Amore."),
                array('','2','Amen.')
            )  
        ),
        "sesta_0"=>array(
            array(
                array('','',"Glorioso e potente Signore,"),
                array('','',"che alterni i ritmi del tempo,"),
                array('','',"irradi di luce il mattino"),
                array('','',"e accendi di fuochi il meriggio,")
            ),
            array(
                array('','',"tu placa le tristi contese,"),
                array('','',"estingui la fiamma dell'ira,"),
                array('','',"infondi vigore alle membra,"),
                array('','',"ai cuori concedi la pace.")
            ),
            array(
                array('','',"Sia gloria al Padre e al Figlio,"),
                array('','',"sia onore allo Spirito Santo,"),
                array('','',"all'unico e trino Signore"),
                array('','',"sia lode nei secoli eterni."),
                array('','2','Amen.')
            )  
        ),
        "nona_0"=>array(
            array(
                array('','',"Signore, forza degli esseri,"),
                array('','',"Dio immutabile, eterno,"),
                array('','',"tu segni i ritmi del mondo:"),
                array('','',"i giorni, i secoli, il tempo.")
            ),
            array(
                array('','',"Irradia di luce la sera,"),
                array('','',"fa' sorgere oltre la morte,"),
                array('','',"nello splendore dei cieli,"),
                array('','',"il giorno senza tramonto.")
            ),
            array(
                array('','',"Sia lode al Padre altissimo,"),
                array('','',"al Figlio e al Santo Spirito,"),
                array('','',"com'era nel principio,"),
                array('','',"ora e nei secoli eterni."),
                array('','2','Amen.')
            )  
        ),
        "ves2_0"=>array(
            array(
                array('','',"Fu luce la prima parola,"),
                array('','',"artefice sommo e sublime,"),
                array('','',"e fu con la luce il creato,"),
                array('','',"inizio ebbe il corso del tempo.")
            ),
            array(
                array('','',"Ai primi bagliori dell'alba,"),
                array('','',"risponde il chiarore del vespro,"),
                array('','',"e il cielo che tingi di fuoco,"),
                array('','',"proclama la grande tua gloria.")
            ),
            array(
                array('','',"Anelito nuovo alla vita"),
                array('','',"inturgida tutte le cose,"),
                array('','',"si ergono in cerca del sole,"),
                array('','',"e poi si riposano in pace.")
            ),
            array(
                array('','',"La pace più vera per noi"),
                array('','',"è solo nel Cristo tuo Figlio,"),
                array('','',"che in alto levato da terra"),
                array('','',"attira a sé tutte le cose.")
            ),
            array(
                array('','',"Eterno pastore dell'uomo,"),
                array('','',"ei guida i suoi passi sicuro,"),
                array('','',"nel buio che incombe sul mondo,"),
                array('','',"ai pascoli veri di vita.")
            ),
            array(
                array('','',"Con canti sinceri, inni nuovi,"),
                array('','',"per sempre sia gloria a te, Padre,"),
                array('','',"al Figlio che tu ci hai donato"),
                array('','',"e gloria allo Spirito Santo."),
                array('','2','Amen.')
            )
        ),
        "lodi_1"=>array(
            array(
                array('','',"O sole di giustizia,"),
                array('','',"Verbo del Dio vivente,"),
                array('','',"irradia sulla Chiesa"),
                array('','',"la tua luce immortale.")
            ),
            array(
                array('','',"Per te veniamo al Padre,"),
                array('','',"fonte del primo amore,"),
                array('','',"Padre d'immensa grazia"),
                array('','',"e di perenne gloria.")
            ),
            array(
                array('','',"Lieto trascorra il giorno"),
                array('','',"in umiltà e fervore;"),
                array('','',"la luce della fede"),
                array('','',"non conosca tramonto.")
            ),
            array(
                array('','',"Sia Cristo il nostro cibo,"),
                array('','',"sia Cristo l'acqua viva:"),
                array('','',"in lui gustiamo sobrii"),
                array('','',"l'ebbrezza dello Spirito."),
                array('','2','Amen.')
            )
        ),
        "terza_1"=>array(
            array(
                array('','',"O Spirito Paraclito,"),
                array('','',"col Padre e l'Unigenito,"),
                array('','',"vibrante scendi, e penetra"),
                array('','',"dei nostri cuori l'intimo.")
            ),
            array(
                array('','',"Per la tua lode, Altissimo,"),
                array('','',"la mente e i sensi illumina,"),
                array('','',"l'amor fraterno suscita,"),
                array('','',"nell'unità consumaci.")
            ),
            array(
                array('','',"Rendiamo gloria unanimi"),
                array('','',"al Padre e all'Unigenito,"),
                array('','',"e gloria al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "sesta_1"=>array(
            array(
                array('','',"Tu, che ogni cosa susciti,"),
                array('','',"qual sole su noi sfolgora:"),
                array('','',"noi t'imploriamo, Altissimo,"),
                array('','',"le nostre vite illumina.")
            ),
            array(
                array('','',"Dopo il lavoro fervido,"),
                array('','',"la pace dona all'anima,"),
                array('','',"la gioia dello Spirito"),
                array('','',"il corpo stanco temperi.")
            ),
            array(
                array('','',"Rendiamo gloria unanimi"),
                array('','',"al Padre e all'Unigenito,"),
                array('','',"e gloria al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "nona_1"=>array(
            array(
                array('','',"Eterno Dio immutabile,"),
                array('','',"la fonte è in te dell'essere:"),
                array('','',"nella tua pace, immobile,"),
                array('','',"tu segni ai tempi il volgere.")
            ),
            array(
                array('','',"La vera luce donaci,"),
                array('','',"le nostre vite vigila,"),
                array('','',"e nel tramonto fulgido"),
                array('','',"i cuori in te s'immergano.")
            ),
            array(
                array('','',"Rendiamo gloria unanimi"),
                array('','',"al Padre e all'Unigenito,"),
                array('','',"e gloria al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "ves_1"=>array(
            array(
                array('','',"O immenso creatore,"),
                array('','',"che all'impeto dei flutti"),
                array('','',"segnasti il corso e il limite"),
                array('','',"nell'armonia del cosmo,")
            ),
            array(
                array('','',"tu all'aspre solitudini"),
                array('','',"della terra assetata"),
                array('','',"donasti il refrigerio"),
                array('','',"dei torrenti e dei mari.")
            ),
            array(
                array('','',"Irriga, Padre buono,"),
                array('','',"i deserti dell'anima"),
                array('','',"coi fiumi d'acqua viva"),
                array('','',"che sgorgano dal Cristo.")
            ),
            array(
                array('','',"Ascolta, o Padre altissimo,"),
                array('','',"tu che regni nei secoli,"),
                array('','',"con il Cristo tuo Figlio"),
                array('','',"e lo Spirito Santo."),
                array('','2','Amen.')
            )
        ),
        "lodi_2"=>array(
            array(
                array('','',"Già l'ombra della notte si dilegua,"),
                array('','',"un'alba nuova sorge all'orizzonte:"),
                array('','',"con il cuore e la mente salutiamo"),
                array('','',"il Dio di gloria.")
            ),
            array(
                array('','',"O Padre santo, fonte d'ogni bene,"),
                array('','',"effondi la rugiada del tuo amore"),
                array('','',"sulla Chiesa raccolta dal tuo Figlio"),
                array('','',"nel Santo Spirito."),
                array('','2','Amen.')
            )
        ),
        "ves_2"=>array(
            array(
                array('','',"Accogli, o Padre buono,"),
                array('','',"il canto dei fedeli"),
                array('','',"nel giorno che declina.")
            ),
            array(
                array('','',"Tu al sorger della luce,"),
                array('','',"ci chiamasti al lavoro"),
                array('','',"nella mistica vigna;")
            ),
            array(
                array('','',"or che il sole tramonta,"),
                array('','',"largisci agli operai"),
                array('','',"la mercede promessa.")
            ),
            array(
                array('','',"Da' ristoro alle membra"),
                array('','',"e diffondi nei cuori"),
                array('','',"la pace del tuo Spirito.")
            ),
            array(
                array('','',"La tua grazia si pegno"),
                array('','',"della gioia perfetta"),
                array('','',"nella gloria dei santi.")
            ),
            array(
                array('','',"A te sia lode, o Padre,"),
                array('','',"al Figlio e al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "lodi_3"=>array(
            array(
                array('','',"Notte, tenebre e nebbia,"),
                array('','',"fuggite: entra la luce,"),
                array('','',"viene Cristo Signore.")
            ),
            array(
                array('','',"Il sole di giustizia"),
                array('','',"trasfigura ed accende"),
                array('','',"l'universo in attesa.")
            ),
            array(
                array('','',"Con gioia pura ed umile,"),
                array('','',"fra i canti e le preghiere,"),
                array('','',"accogliamo il Signore.")
            ),
            array(
                array('','',"Salvatore dei poveri,"),
                array('','',"la gloria del tuo volto"),
                array('','',"splenda su un mondo nuovo.")
            ),
            array(
                array('','',"A te sia lode, o Cristo,"),
                array('','',"al Padre e al Santo Spirito,"),
                array('','',"oggi e sempre nei secoli."),
                array('','2','Amen.')
            )
        ),
        "terza_3"=>array(
            array(
                array('','',"L'ora terza risuona,"),
                array('','',"nel servizio di lode:"),
                array('','',"con cuore puro e ardente"),
                array('','',"preghiamo il Dio glorioso.")
            ),
            array(
                array('','',"Venga su noi, Signore,"),
                array('','',"il dono dello Spirito,"),
                array('','',"che in quest'ora discese"),
                array('','',"sulla Chiesa nascente.")
            ),
            array(
                array('','',"Si rinnovi il prodigio,"),
                array('','',"di quella Pentecoste,"),
                array('','',"che rivelò alle genti"),
                array('','',"la luce del tuo regno.")
            ),
            array(
                array('','',"Sia lode al Padre e al Figlio"),
                array('','',"e allo Spirito Santo,"),
                array('','',"al Dio trino ed unico,"),
                array('','',"nei secoli sia gloria."),
                array('','2','Amen.')
            )
        ),
        "sesta_3"=>array(
            array(
                array('','',"L'ora sesta c'invita,"),
                array('','',"al servizio divino:"),
                array('','',"inneggiamo al Signore"),
                array('','',"con fervore di spirito.")
            ),
            array(
                array('','',"In quest'ora sul Golgota,"),
                array('','',"vero agnello pasquale,"),
                array('','',"Cristo paga il riscatto"),
                array('','',"per la nostra salvezza.")
            ),
            array(
                array('','',"Dinanzi alla sua gloria,"),
                array('','',"anche il sole si oscura:"),
                array('','',"risplenda la sua grazia"),
                array('','',"nell'intimo dei cuori.")
            ),
            array(
                array('','',"Sia lode al Padre e al Figlio"),
                array('','',"e allo Spirito Santo,"),
                array('','',"al Dio trino ed unico,"),
                array('','',"nei secoli sia gloria."),
                array('','2','Amen.')
            )
        ),
        "nona_3"=>array(
            array(
                array('','',"L'ora nona ci chiama,"),
                array('','',"alla lode di Dio:"),
                array('','',"adoriamo cantando"),
                array('','',"l'uno e trino Signore.")
            ),
            array(
                array('','',"San Pietro che in quest'ora"),
                array('','',"salì al tekpio a pregare,"),
                array('','',"rafforzi i nostri passi"),
                array('','',"sulla via della fede.")
            ),
            array(
                array('','',"Uniamoci agli apostoli"),
                array('','',"nella lode perenne"),
                array('','',"e camminiamo insieme"),
                array('','',"sulle orme di Cristo.")
            ),
            array(
                array('','',"Ascolta, Padre altissimo,"),
                array('','',"tu che regni in eterno,"),
                array('','',"con il Figlio e lo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "ves_3"=>array(
            array(
                array('','',"Artefice e Signore"),
                array('','',"della terra e del cielo,"),
                array('','',"aurora inestinguibile,"),
                array('','',"giorno senza tramonto,")
            ),
            array(
                array('','',"dona alle stanche membra"),
                array('','',"la gioia del riposo,"),
                array('','',"e nel sonno rimargina"),
                array('','',"le ferite dell'anima.")
            ),
            array(
                array('','',"Se le tenebre scendono"),
                array('','',"sulla città degli uomini,"),
                array('','',"non si spenga la fede"),
                array('','',"nel cuore dei credenti.")
            ),
            array(
                array('','',"Te la voce proclami,"),
                array('','',"o Dio trino ed unico,"),
                array('','',"te canti il nostro cuore,"),
                array('','',"te adori il nostro spirito."),
                array('','2','Amen.')
            )
        ),
        "lodi_4"=>array(
            array(
                array('','',"Al sorger della luce,"),
                array('','',"ascolta, o Padre santo,"),
                array('','',"la preghiera degli umili.")
            ),
            array(
                array('','',"Dona un linguaggio mite,"),
                array('','',"che non conosca i fremiti"),
                array('','',"dell'orgoglio e dell'ira.")
            ),
            array(
                array('','',"Donaci occhi limpidi,"),
                array('','',"che vincano le torbide"),
                array('','',"suggestioni del male.")
            ),
            array(
                array('','',"Donaci un cuore puro,"),
                array('','',"fedele nel sevizio,"),
                array('','',"ardente nella lode.")
            ),
            array(
                array('','',"A te sia gloria, o Padre,"),
                array('','',"al Figlio e al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "ves_4"=>array(
            array(
                array('','',"Dio, che di chiara luce"),
                array('','',"tessi la trama al giorno,"),
                array('','',"accogli il nostro canto"),
                array('','',"nella quiete del vespro.")
            ),
            array(
                array('','',"ecco il sole scompare"),
                array('','',"all'estremo orizzonte;"),
                array('','',"scende l'ombra e il silenzio"),
                array('','',"sulle fatiche umane.")
            ),
            array(
                array('','',"Non si offuschi la mente"),
                array('','',"nella notte del male,"),
                array('','',"ma rispecchi serena,"),
                array('','',"la luce del tuo volto.")
            ),
            array(
                array('','',"Te la voce proclami,"),
                array('','',"o Dio trino ed unico,"),
                array('','',"te canti il nostro cuore,"),
                array('','',"te adori il nostro spirito."),
                array('','2','Amen.')
            )
        ),
        "lodi_5"=>array(
            array(
                array('','',"O Gesù salvatore,"),
                array('','',"luce vera del mondo,"),
                array('','',"accogli le primizie"),
                array('','',"della nostra preghiera.")
            ),
            array(
                array('','',"Risveglia in noi la fede,"),
                array('','',"la speranza, l'amore;"),
                array('','',"dona pace e concordia"),
                array('','',"e letizia perfetta.")
            ),
            array(
                array('','',"Lenisci con le lacrime"),
                array('','',"la durezza dei cuori,"),
                array('','',"accendi il desiderio"),
                array('','',"della patria beata.")
            ),
            array(
                array('','',"A te sia gloria, o Cristo,"),
                array('','',"speranza delle genti,"),
                array('','',"al Padre e al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "ves_5"=>array(
            array(
                array('','',"O Gesù redentore,"),
                array('','',"immagine del Padre,"),
                array('','',"luce d'eterna luce,"),
                array('','',"accogli il nostro canto.")
            ),
            array(
                array('','',"Per radunare i popoli"),
                array('','',"nel patto dell'amore,"),
                array('','',"distendi le tue braccia"),
                array('','',"sul legno della croce.")
            ),
            array(
                array('','',"Dal tuo fianco squarciato"),
                array('','',"effondi sull'altare"),
                array('','',"i misteri pasquali"),
                array('','',"della nostra salvezza.")
            ),
            array(
                array('','',"A te sia lode, o Cristo,"),
                array('','',"speranza delle genti,"),
                array('','',"al Padre e al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "lodi_6"=>array(
            array(
                array('','',"L'aurora inonda il cielo"),
                array('','',"di una festa di luce,"),
                array('','',"e riveste la terra"),
                array('','',"di meraviglia nuova.")
            ),
            array(
                array('','',"Fugge l'ansia dai cuori,"),
                array('','',"s'accende la speranza:"),
                array('','',"emerge sopra il caos"),
                array('','',"un'iride di pace.")
            ),
            array(
                array('','',"Così nel giorno ultimo"),
                array('','',"l'umanità in attesa"),
                array('','',"alzi il capo e contempli"),
                array('','',"l'avvento del Signore.")
            ),
            array(
                array('','',"Sia gloria al Padre altissimo"),
                array('','',"e a Cristo l'unigenito,"),
                array('','',"sia lode al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "p1651"=>array(
            array(
                array('','',"Gerusalemme nuova,"),
                array('','',"immagine di pace,"),
                array('','',"costruita per sempre"),
                array('','',"nell'amore del Padre.")
            ),
            array(
                array('','',"Tu discendi dal cielo"),
                array('','',"come vergine sposa,"),
                array('','',"per congiungerti a Cristo"),
                array('','',"nelle nozze eterne.")
            ),
            array(
                array('','',"Dentro le tue mura,"),
                array('','',"risplendenti di luce,"),
                array('','',"si radunano in festa"),
                array('','',"gli amici del Signore:")
            ),
            array(
                array('','',"pietre vive e preziose,"),
                array('','',"scolpite dallo Spirito"),
                array('','',"con la croce e il martirio"),
                array('','',"per la città dei santi.")
            ),
            array(
                array('','',"Sia onore al Padre e al Figlio"),
                array('','',"e allo Spirito Santo,"),
                array('','',"al Dio trino ed unico"),
                array('','',"nei secoli sia gloria."),
                array('','2','Amen.')
            )
        ),
        "p1661"=>array(
            array(
                array('','',"O Cristo, Verbo del Padre,"),
                array('','',"glorioso re delle vergini,"),
                array('','',"luce e salvezza del mondo,"),
                array('','',"in te crediamo.")
            ),
            array(
                array('','',"Cibo e bevanda di vita,"),
                array('','',"balsamo, veste, dimora,"),
                array('','',"forza, rifugio, conforto,"),
                array('','',"in te speriamo.")
            ),
            array(
                array('','',"Illumina col tuo Spirito"),
                array('','',"l'oscura notte del male,"),
                array('','',"orienta il nostro cammino"),
                array('','',"incontro al Padre."),
                array('','2','Amen.')
            )
        )

    );

    protected $proprio=array(
        "ves_0202a"=>array(
            array(
                array('','',"O Gesù salvatore,"),
                array('','',"immagine del Padre,"),
                array('','',"re immortale dei secoli,")
            ),
            array(
                array('','',"luce d'eterna luce,"),
                array('','',"speranza inestinguibile,"),
                array('','',"ascolta la preghiera.")
            ),
            array(
                array('','',"Tu che da MAria Vergine,"),
                array('','',"prendi forma mortale,"),
                array('','',"ricordati di noi!")
            ),
            array(
                array('','',"Redenti dal tuo sangue,"),
                array('','',"adoriamo il tuo nome,"),
                array('','',"cantiamo iun canto nuovo.")
            ),
            array(
                array('','',"A te sia gloria, o Cristo,"),
                array('','',"al Padre e al Santo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "lodi_0319a"=>array(
            array(
                array('','',"Santa e dolce dimora"),
                array('','',"dove Gesù fanciullo"),
                array('','',"nasconde la sua gloria!")
            ),
            array(
                array('','',"Giuseppe addestra all'umile"),
                array('','',"arte del falegname"),
                array('','',"il Figlio dell'Altissimo.")
            ),
            array(
                array('','',"Accanto a lui Maria"),
                array('','',"fa lieta la sua casa"),
                array('','',"di una limpida gioia.")
            ),
            array(
                array('','',"La mano del Signore"),
                array('','',"li guida e li protegge"),
                array('','',"nei giorni della prova.")
            ),
            array(
                array('','',"O famiglia di Nazareth,"),
                array('','',"esperta del soffrire,"),
                array('','',"dona al mondo la pace.")
            ),
            array(
                array('','',"A te sia lode, o Cristo,"),
                array('','',"al Padre ed allo Spirito"),
                array('','',"nei secoli dei secoli."),
                array('','2','Amen.')
            )
        ),
        "ves_PAL"=>array(
            array(
                array('','',"Ecco il vessillo dela croce,"),
                array('','',"mistero di morte e di gloria:"),
                array('','',"l'artefice di tutto il creato"),
                array('','',"è appeso ad un patibolo.")
            ),
            array(
                array('','',"Un colpo di lancia trafigge,"),
                array('','',"il cuore del Figlio di Dio;"),
                array('','',"sgorga acqua e sangue, un torrente"),
                array('','',"che lava i peccati del mondo.")
            ),
            array(
                array('','',"O albero fecondo e glorioso,"),
                array('','',"ornato d'un manto regale,"),
                array('','',"talamo, trono ed altare"),
                array('','',"al corpo di Cristo Signore.")
            ),
            array(
                array('','',"O croce beata che apristi"),
                array('','',"le braccia a Gesù redentore,"),
                array('','',"bilancia del grande riscatto"),
                array('','',"che tolse la preda all'inferno.")
            ),
            array(
                array('','',"Ave, o croce, unica speranza,"),
                array('','',"in questo tempo di passione"),
                array('','',"accresci ai fedeli la grazia,"),
                array('','',"ottieni alle genti la pace."),
                array('','2','Amen.')
            )
        )
    );

    protected $litio;

    protected $actual=array(
        "ora"=>"",
        "tempo"=>"",
        "weekDay"=>"",
        "evento"=>"",
        "evCode"=>"",
        "festa"=>"",
        "fesCode"=>"",
        "inno"=>"",
        "proprio"=>""
    );

    function __construct($caller) {

        $this->litio=$caller;

        $this->info['testo']=new Saltesto();

        /*MAP
        $m=array(
			"today"=>$day,
			"tempo"=>$this->getTempo($day),
			"anno"=>$this->getAnno(),
			"settimana"=>"",
			"quarto"=>"",
			"weekDay"=>date('w',mainFunc::gab_tots($day)),
			"pari"=>$this->info['pari'],
			"festa"=>array(),
			"evento"=>array(),
			"rocho"=>false,
			"errore"=>false
		);
        */
        /*CONFIG
        var config={
            "ora":$('#sal_ora').val(),
            "festa":$('#sal_festa').val(),
            "mix":$('#sal_mix').prop('checked')?1:0,
            "contesto":$('#sal_contesto').val(),
        }
        */

        $this->actual['ora']=$this->litio->config['ora'];

        if ($this->litio->config['ora']=='ves1' || $this->litio->config['ora']=='comp1') {
            $this->actual['tempo']=$this->litio->vig['tempo']['codice'];
            $this->actual['weekDay']=$this->litio->vig['weekDay'];
            $this->actual['evento']=$this->litio->vig['evento'];
            $this->actual['evCode']=$this->litio->vig['evCode'];
        }
        else {
            $this->actual['tempo']=$this->litio->map['tempo']['codice'];
            $this->actual['weekDay']=$this->litio->map['weekDay'];
            $this->actual['evento']=$this->litio->map['evento'];
            $this->actual['evCode']=$this->litio->map['evCode'];
        }

        $this->build();
    }

    function build() {

        //di default attribuisco il salterio
        if (isset($this->salterio[$this->actual['weekDay']][$this->actual['ora']])) {
            $this->actual['inno']=$this->salterio[$this->actual['weekDay']][$this->actual['ora']];
        }

        if ($this->actual['tempo']=='O') {

            //di base corrisponde al salterio

            //Presentazione del Signore
            if ($this->actual['evCode']=='0202a') {
                if ($this->actual['ora']=='ves2') $this->actual['proprio']='ves_0202a';
                elseif ($this->actual['ora']=='ves1' && $this->actual['weekDay']==0) $this->actual['proprio']='ves_0202a';
                elseif ($this->actual['ora']=='lodi') $this->actual['inno']='lodi_1';
            }
            //santa Scolastica
            elseif ($this->actual['evCode']=='0210a') {
                if ($this->actual['ora']=='ves2' || $this->actual['ora']=='ves1') $this->actual['inno']='p1651';
                elseif ($this->actual['ora']=='lodi') $this->actual['inno']='p1661';
            }
            //San Giuseppe sposo della B.V. Maria
            elseif ($this->actual['evCode']=='0319a') {
                if ($this->actual['ora']=='ves2' || $this->actual['ora']=='ves1' || $this->actual['ora']=='lodi') $this->actual['proprio']='lodi_0319a';
            }
            //Annunciazione del Signore


            
            //Esaltazione della Santa Croce
            elseif ($this->actual['evCode']=='0914a') {
                if ($this->actual['ora']=='ves2') $this->actual['proprio']='ves_PAL';
                elseif ($this->actual['ora']=='ves1' && $this->actual['weekDay']==0) $this->actual['proprio']='ves_PAL';
                elseif ($this->actual['ora']=='lodi') $this->actual['inno']='ves_5';
            }
        }

        

        //----------------------------------------------------------------------------

        if ($this->actual['proprio']!='') {
            if (isset($this->proprio[$this->actual['proprio']])) {
                foreach ($this->proprio[$this->actual['proprio']] as $k=>$t) {
                    $this->info['testo']->addBlock($t);
                }
            }
        }
        else {
            if (isset($this->inni[$this->actual['inno']])) {
                foreach ($this->inni[$this->actual['inno']] as $k=>$t) {
                    $this->info['testo']->addBlock($t);
                }
            }
        }
    }

    function draw() {

        echo '<div class="salResBlockTitle" >';
            echo $this->info['titolo'];
        echo '</div>';

        echo '<div class="salResBlockBody" >';
            if ($this->info['testo']) {
                echo $this->info['testo']->draw();
            }
        echo '</div>';
    }
    
}

?>